{"version":3,"sources":["./index.js"],"names":["AFRAME","registerComponent","schema","src","type","default","init","this","el","sceneEl","renderer","setPixelRatio","xr","setFramebufferScaleFactor","initGL","camera","components","object3D","loadData","data","object","textureReady","frustumCulled","centerAndScaleData","Float32Array","covAndColorData","Uint32Array","centerAndScaleTexture","THREE","DataTexture","RGBA","FloatType","needsUpdate","covAndColorTexture","RGBAIntegerFormat","UnsignedIntType","internalFormat","splatIndexArray","splatIndexes","InstancedBufferAttribute","setUsage","DynamicDrawUsage","baseGeometry","BufferGeometry","positionsArray","positions","BufferAttribute","setAttribute","setXYZ","geometry","InstancedBufferGeometry","copy","instanceCount","material","ShaderMaterial","uniforms","viewport","value","focal","gsProjectionMatrix","getProjectionMatrix","gsModelViewMatrix","getModelViewMatrix","vertexShader","fragmentShader","blending","CustomBlending","blendSrcAlpha","OneFactor","depthTest","depthWrite","transparent","onBeforeRender","scene","group","let","projectionMatrix","mesh","Vector4","getCurrentViewport","w","Math","abs","elements","z","Mesh","add","worker","Worker","URL","createObjectURL","Blob","createWorker","toString","onmessage","indexes","e","sortedIndexes","attributes","splatIndex","set","length","sortReady","loadedVertexCount","rowLength","postMessage","method","fetch","then","async","reader","body","getReader","bytesDownloaded","bytesProcesses","_totalDownloadBytes","headers","get","totalDownloadBytes","parseInt","undefined","chunks","start","Date","now","lastReportedProgress","isPly","endsWith","mbps","percent","done","await","read","console","log","toFixed","push","properties","bytesRemains","extra_data","vertexCount","floor","concatenatedChunksbuffer","Uint8Array","offset","chunk","subarray","buffer","byteLength","pushDataBuffer","error","concatenatedChunks","reduce","acc","processPlyBuffer","u_buffer","f_buffer","matrices","covAndColorData_uint8","covAndColorData_int16","Int16Array","i","quat","Quaternion","center","Vector3","scale","mtx","Matrix4","mtx_t","makeRotationFromQuaternion","transpose","clone","cov_indexes","premultiply","setPosition","max_value","j","destOffset","x","y","max","gl","getContext","width","height","xoffset","yoffset","centerAndScaleTextureProperties","min","covAndColorTextureProperties","bindTexture","TEXTURE_2D","__webglTexture","texSubImage2D","FLOAT","RGBA_INTEGER","UNSIGNED_INT","tick","time","timeDelta","view","camera_mtx","viewMatrix","matrixWorld","invert","multiply","self","sortSplats","maxDepth","Infinity","minDepth","depthList","sizeList","Int32Array","validIndexList","validCount","depth","depthInv","counts0","starts0","depthIndex","new_matrices","resized","inputBuffer","ubuf","header","TextDecoder","decode","slice","header_end_index","indexOf","Error","exec","row_offset","offsets","types","prop","TYPE_MAP","double","int","uint","float","short","ushort","uchar","split","filter","k","startsWith","name","arrayType","replace","dataView","DataView","row","attrs","Proxy","target","size","opacity","sizeIndex","exp","scale_0","scale_1","scale_2","timeEnd","sort","b","a","ArrayBuffer","SH_C0","position","scales","rgba","Uint8ClampedArray","rot","qlen","sqrt","rot_0","rot_1","rot_2","rot_3","f_dc_0","f_dc_1","f_dc_2","red","green","blue"],"mappings":"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"}