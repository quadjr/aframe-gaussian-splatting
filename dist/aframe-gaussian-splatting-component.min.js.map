{"version":3,"sources":["./index.js"],"names":["AFRAME","registerComponent","schema","src","type","default","cutoutEntity","pixelRatio","xrPixelRatio","depthWrite","discardFilter","init","this","data","el","sceneEl","renderer","setPixelRatio","xr","setFramebufferScaleFactor","document","querySelector","addEventListener","loadData","camera","components","object3D","cutout","initGL","async","numVertexes","console","log","object","frustumCulled","let","gl","getContext","mexTextureSize","getParameter","MAX_TEXTURE_SIZE","splatIndexArray","maxVertexes","bufferTextureWidth","bufferTextureHeight","Math","floor","centerAndScaleData","Float32Array","covAndColorData","Uint32Array","centerAndScaleTexture","THREE","DataTexture","RGBA","FloatType","needsUpdate","covAndColorTexture","RGBAIntegerFormat","UnsignedIntType","internalFormat","splatIndexes","InstancedBufferAttribute","baseGeometry","setUsage","DynamicDrawUsage","BufferGeometry","positionsArray","positions","BufferAttribute","geometry","setAttribute","setXYZ","InstancedBufferGeometry","copy","instanceCount","material","ShaderMaterial","uniforms","viewport","value","focal","gsProjectionMatrix","getProjectionMatrix","gsModelViewMatrix","getModelViewMatrix","vertexShader","fragmentShader","blending","CustomBlending","blendSrcAlpha","OneFactor","depthTest","transparent","mesh","onBeforeRender","scene","group","projectionMatrix","Vector4","getCurrentViewport","w","abs","elements","z","Mesh","add","worker","onmessage","indexes","e","sortedIndexes","attributes","splatIndex","set","length","sortReady","centerAndScaleTextureProperties","properties","get","covAndColorTextureProperties","__webglTexture","await","Promise","resolve","setTimeout","loadedVertexCount","rowLength","Worker","URL","createObjectURL","Blob","createWorker","toString","postMessage","method","fetch","ok","parseData","error","reader","body","getReader","glInitialized","bytesDownloaded","bytesProcesses","_totalDownloadBytes","headers","totalDownloadBytes","parseInt","undefined","chunks","start","Date","now","lastReportedProgress","isPly","endsWith","mbps","percent","done","read","toFixed","push","bytesRemains","extra_data","vertexCount","concatenatedChunksbuffer","Uint8Array","offset","chunk","subarray","buffer","byteLength","pushDataBuffer","concatenatedChunks","reduce","acc","processPlyBuffer","u_buffer","f_buffer","matrices","covAndColorData_uint8","covAndColorData_int16","Int16Array","i","quat","Quaternion","center","Vector3","scale","mtx","Matrix4","mtx_t","makeRotationFromQuaternion","transpose","clone","cov_indexes","premultiply","setPosition","max_value","j","destOffset","x","y","max","width","height","xoffset","yoffset","min","bindTexture","TEXTURE_2D","texSubImage2D","FLOAT","RGBA_INTEGER","UNSIGNED_INT","tick","time","timeDelta","view","worldToCutout","camera_mtx","matrixWorld","invert","multiply","viewMatrix","self","mul","dot","vec1","vec2","sortSplats","maxDepth","Infinity","minDepth","depthList","sizeList","Int32Array","validIndexList","validCount","posY","posZ","cutoutSpacePos","depth","cutoutArea","posX","depthInv","counts0","starts0","depthIndex","new_matrices","resized","inputBuffer","ubuf","header","TextDecoder","decode","slice","header_end_index","indexOf","Error","exec","row_offset","offsets","types","prop","TYPE_MAP","double","int","uint","float","short","ushort","uchar","split","filter","k","startsWith","name","arrayType","replace","dataView","DataView","row","attrs","Proxy","target","size","opacity","sizeIndex","exp","scale_0","scale_1","scale_2","timeEnd","sort","b","a","ArrayBuffer","SH_C0","position","scales","rgba","Uint8ClampedArray","rot","qlen","sqrt","rot_0","rot_1","rot_2","rot_3","f_dc_0","f_dc_1","f_dc_2","red","green","blue"],"mappings":"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"}